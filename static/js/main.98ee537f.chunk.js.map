{"version":3,"sources":["components/Header.jsx","redux/authReducer.js","components/HeaderContainer.js","components/MainPage.jsx","assets/icons/fire.png","assets/icons/firefighter.png","redux/mapReducer.js","components/common/ContextMenu.jsx","components/PopupContent/PopupCreateMark.jsx","components/PopupContent/PopupDeleteMark.jsx","components/common/Popup.jsx","components/filters/FilterByText.jsx","components/filters/FilterByType.jsx","components/Sidebar.jsx","components/map/Placemarks.jsx","components/map/MainMap.jsx","components/map/MapContainer.js","components/common/forms/LoginForm.jsx","components/login/LoginPage.jsx","components/login/LoginPageContainer.js","components/login/LogoutPage.jsx","App.js","redux/store.js","index.js"],"names":["Header","props","className","to","authData","isLogged","onClick","logoutHandler","LOGIN_HANDLER","LOGIN_SUCCESS","LOGOUT_HANDLER","initialState","login","password","authProcess","dispatch","getState","type","logged","authReducer","state","action","payload","HeaderContainer","connect","auth","MainPage","background","width","height","href","target","rel","CONTEXT_MENU_HANDLER","SHOW_POPUP_HANDLER","SET_COORDINATES","SET_CONTEXT_TYPE","SET_POPUP_CONTENT","SET_PLACEMARK_ID","SET_DRAGGABLE","CREATE_MARK","DELETE_MARK","SHOW_SIDEBAR","GET_FILTER_BY_TEXT","SET_FILTER_BY_TYPE","TOGGLE_EDIT_MODE","marks","id","coordinates","icon","fireIcon","markType","draggable","properties","hint","balloon","fireFighterIcon","filteredMarks","contextType","popupContent","placemarkID","showContextMenu","showPopup","filteredText","isSidebarOpen","editMode","setDraggable","toggleEditMode","getFilterByType","filter","filteredList","mapPage","setFilterByType","item","mapReducer","placemarkId","contentType","Date","valueOf","text","ContextMenu","menuEditText","styles","left","popupLocation","top","setPopupSettings","param","setPopupContent","showPopupHandler","contextMenuHandler","setEditMark","drag","value","editMark","style","PopupCreateMark","createMarkHandler","createmarkSchema","Yup","min","max","required","initialValues","validationSchema","onSubmit","values","errors","touched","name","placeholder","component","rows","textAlign","role","PopupDeleteMark","deleteMarkHandler","Popup","markNames","FilterByText","useState","selected","setSelected","setText","filterInput","useRef","checkClickOutside","event","current","contains","useEffect","window","addEventListener","removeEventListener","searchResult","Fuse","totalMarks","minMatchCharLength","includeScore","threshold","keys","search","goToCoords","coords","ymaps","setCenter","ref","onChange","e","currentTarget","onFocus","length","map","index","FilterByType","Sidebar","showSidebar","getFilterByText","arrowIcon","xmlns","viewBox","d","Placemarks","getArray","array","i","onContextMenu","setPlacemarkId","setContextType","stopPropagation","setContextToPlacemark","geometry","hintContent","balloonContent","options","iconLayout","iconImageHref","modules","onDragEnd","setCoordinates","get","getCoordinates","MainMap","React","createRef","shouldShowContext","setYmaps","setState","setContextToMap","c","openCreateContext","rect","document","querySelector","getBoundingClientRect","x","clientX","y","clientY","mapState","center","zoom","behaviors","mapOptions","restrictMapArea","suppressMapOpenBlock","autoFitToViewport","mapStyles","position","this","query","apikey","process","instanceRef","onLoad","defaultState","defaultOptions","Component","MapContainer","showContextMenuHandler","newMarkList","mark","LoginForm","loginSchema","LoginPage","setLoginData","LoginPageContainer","LogoutPage","App","exact","path","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","composedElements","compose","applyMiddleware","thunk","persistConfig","key","storage","whitelist","rootReducer","combineReducers","persistedReducer","persistReducer","store","createStore","undefined","persistor","persistStore","ReactDOM","render","loading","getElementById"],"mappings":"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","file":"static/js/main.98ee537f.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Header = (props) => {\r\n\r\n   function logoutHandler() {\r\n      props.logoutHandler()\r\n   }\r\n\r\n   return (\r\n      <header className=\"app__header\">\r\n         <ul className=\"header-links\">\r\n            <li className=\"header-link\">\r\n               <Link to=\"/\">Главная</Link>\r\n            </li>\r\n            <li className=\"header-link\">\r\n               <Link to=\"/map\">На карту</Link>\r\n            </li>\r\n            {props.authData.isLogged ?\r\n               <li className=\"header-link\">\r\n                  <Link to=\"/logout\" onClick={logoutHandler}>Выйти</Link>\r\n               </li>\r\n               : <li className=\"header-link\">\r\n                  <Link to=\"/login\">Войти</Link>\r\n               </li>}\r\n         </ul>\r\n      </header>\r\n   )\r\n}\r\n\r\nexport default Header","const LOGIN_HANDLER = 'authReducer/LOGIN-HANDLER'\r\nconst LOGIN_SUCCESS = 'authReducer/LOGIN-SUCCESS'\r\nconst LOGOUT_HANDLER = 'authReducer/LOGOUT-HANDLER'\r\n\r\nlet initialState = {\r\n   login: '',\r\n   password: '',\r\n   isLogged: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case LOGIN_HANDLER:\r\n         return {\r\n            ...state,\r\n            ...action.payload\r\n         }\r\n      case LOGIN_SUCCESS:\r\n         return {\r\n            ...state,\r\n            isLogged: action.logged\r\n         }\r\n      case LOGOUT_HANDLER:\r\n         return {\r\n            ...state,\r\n            login: '',\r\n            password: '',\r\n            isLogged: false\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\nexport const setLoginData = (login, password) => ({ type: LOGIN_HANDLER, payload: { login, password } })\r\nexport const setLoginSuccess = (logged) => ({ type: LOGIN_SUCCESS, logged })\r\nexport const logout = () => ({ type: LOGOUT_HANDLER })\r\n\r\n\r\nexport const authProcess = (login, password) => (dispatch, getState) => {\r\n   if (login === 'admin' && password === 'admin') {\r\n      dispatch(setLoginSuccess(true))\r\n   }\r\n}\r\n\r\n\r\nexport default authReducer","import { connect } from \"react-redux\"\r\nimport Header from '../components/Header'\r\nimport { logout } from '../redux/authReducer'\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      authData: state.auth\r\n   }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n   return {\r\n      logoutHandler: () => {\r\n         dispatch(logout())\r\n      },\r\n   }\r\n}\r\n\r\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(Header)\r\n\r\nexport default HeaderContainer","import React from 'react'\r\n\r\nconst MainPage = () => {\r\n\r\n   return (\r\n      <div className=\"app__main main\">\r\n         <div className=\"main__wrapper\">\r\n            <div className=\"main__info\">\r\n               <div className=\"part__heading\">\r\n                  <h2>Дисклеймер</h2>\r\n                  <hr background=\"white\" width=\"100%\" height=\"2px\" />\r\n               </div>\r\n               <div className=\"part__info\">\r\n                  <p>Это небольшое SPA приложение написано в целях тренировки с React и Redux.</p>\r\n                  <p>За идею взята реальная задача: требовалось приложение для мониторинга пожаров, информации о пожарных расчётах с возможностью редактировать эту информацию только администратору.</p>\r\n                  <p>Приложение условно в бета-версии, буду дорабатывать по возможности и желанию :)</p>\r\n               </div>\r\n               <div className=\"part__heading\">\r\n                  <h2>Что в данный момент реализовано</h2>\r\n               </div>\r\n               <div className=\"part__info\">\r\n                  <ul className=\"main-list\">\r\n                     <li><b>Админка</b>: взаимодействие с метками доступно только если вы авторизованы. Для входа в шапке нажмите \"Войти\". Логин и пароль - <span className=\"bg-s\">admin</span>. После этого вы сможете взаимодействовать с картой.</li>\r\n                     <li><b>Создание метки</b>: для создания метки щелкните ПКМ по пустому месту на карте и выберите \"Создать метку\". В появившемся окне вы можете выбрать название метки (которое будет использоваться в поиске), описание (поддерживаются базовые HTML теги) и тип.</li>\r\n                     <li><b>Перемещение метки</b>: щелкнув ПКМ по уже существующей метке выберите \"Переместить метку\". После этого вы сможете перетащить её левой кнопкой мыши на новое место. После перетаскивания снова нажмите на неё ПКМ и выберите \"Закрепить метку\". Внимание! После перезагрузки страницы метка вернется на своё прежнее место.</li>\r\n                     <li><b>Удаление метки</b>: щелкнув ПКМ по уже существующей метке выберите \"Удалить метку\", после чего подтвердите удаление. Внимание! После перезагрузки страницы стартовые метки снова появятся.</li>\r\n                     <li><b>Фильтр и поиск</b>: на странице с картой имеется сайдбар с поиском и фильтрами. </li>\r\n                     <p>Не стесняйтесь нажимать на кнопки :)</p>\r\n                  </ul>\r\n               </div>\r\n               <div className=\"part__heading\">\r\n                  <h2>Что планируется в будущем</h2>\r\n               </div>\r\n               <div className=\"part__info\">\r\n                  <ul className=\"main-list\">\r\n                     <li>Редактирование меток: возможность изменять название, описание, тип и местоположение метки;</li>\r\n                     <li>Рабочая область пожарных расчётов: создание видимой территории, ответственность за которую лежит на конкретном расчёте.</li>\r\n                  </ul>\r\n               </div>\r\n               <div className=\"part__heading\">\r\n                  <h2>Об авторе</h2>\r\n               </div>\r\n               <div className=\"part__info\">\r\n                  В данный момент <a className=\"link\" href=\"https://vk.com/zero_requiem\" target=\"_blank\" rel=\"noreferrer\" >автор</a> находится в поиске работы.\r\n                  <p>По всем предложениям - пишите на <a className=\"link\" href=\"mailto:zero_requiem@vk.com\">почту.</a></p>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default MainPage","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG8AAABvAFoqEWdAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAsFQTFRF/////wAA/4CA/1VV/4BA/2Zm/4BV/4Bg/3FV/2Zm6HRd6mpV63Zi7W1b7ndV8XFV8nNZ83Rd9HVV9XBc9WxY9nFe9m1b9nJY929e73BY8W5a8nJX8m9c825d9HFb9HJc9XFY8XFa8nBb829a83FZ83Bc83BZ9HFa9Ita9G9Z9G9a9HFZ9XBb9XJa8nFa8nFb83Ba83Bb829a829b9HBZ9HBa9G9Z9HFb8nBZ8m9b829Z83Ba83Bb829a829a9HBb9HFa9HBZ9HBa8m9Z8nFZ83BZ829a83Ba829Z83Ba83Fb83Ba83Fa83Bb9HBZ9G9b9HBZ9HVZ9HFb8nBa83BZ83Fa83Ba829b829a83Bb83Ba9HFa9G9a9HBa8nBa+aFb8nFb83Bb83Ba83Bb83BZ83Ba83BZ9HBb8m9a8m9b83Ba83Ba829a83BZ83Fb829a8nBa+7Fc8nBa9Xla83Ba829a83Ba83BZ83Ba83BZ83Ba83Fa829a83Ba83Ba83Ba83Ba9HFa9HBa83Ba83Ba83BZ83Ba83Ba/b5b83Ba83Ba83Ba83Ba83Ba+Z5b+qBa83Ba83Ba83Ba83Ba9HBa83Ba83Ba829a83Ba83Ba83Ba83Ba+6xb/bpb/shb/sxb83Ba83Ba83Ba83Ba83Fa83Ja83Na83Ra9HRa9HVa9HZa9Hda9Hha9Hla9Hta9Xxa9X1a9X5a9X9a9YBa9YFa9YNa9oda9oha9olb9oxb941b95Bb95Fb95Rb+JVb+Jhb+Jlb+Jpb+Jtb+Z1b+Z9b+aFb+aJb+aNb+aRb+qVb+qZb+qhb+qlb+qtb+qxb+69b+7Bb+7Jb+7Nb+7Rb/LVb/LZb/Ldb/Lhb/Llc/Ltc/Lxc/b1c/b5c/cBc/cFc/cNc/cRc/sZc/sdc/shc/stc/sxc/81c/85c/89c/9Bc/9Fck23gogAAAKN0Uk5TAAECAwQFBggJCgsMDQ4PEhQWGBkaGxwdHiAlJicsLS80Njs+P0BCRERFR0hJSk9RUlRVV1lbXF9kZWdpa2xucHFydHV4e3x9foCBgoOEhoeJiYqLj5OUlZeYmZyen6Gio6aoqauwsbS1t7i9vsLFx8rKy8zNzs/Q0tPU1dfY2dvc3t/h4uTl5ujp6uvs7e3t7/Dx8vT19vf4+fr7+/v7+/z9/u1Ro/sAAANISURBVBgZpcGJQxRlHAbgF9ilUMuLyrJUvLvLDi21yEKkzLy7tEuz2zy6kIo8wMrsUEPpsNhXUAnNbirFDomixELpttBA1t9f0czs7O7MN9/izvo8SEbwknwch94FK9f0QcpOmlRGjkaqgmNXkSzvihTlPEvTQ0hN2rVv0DIOKen5IG0XIRVnljLqXKSg70rGDIZ/Z5Qy7mz4dnoJHXLhV/ojdJoNv66mSyF86ltGtxz4kvYoFXfBl3OoKu8JP+6lRz58OPVdepQGkLzrqXEpkhMEsJQaS09AMk4eA3Sj1gQkY+Y0IIdaZX1wbAMqZgMjqTcXUSOQQMZjLAYmM4GhsN0zEHpXkczGHUygMB0RtxRlQid7DckCTGcilyNiEvOhcxMNq7LymEhxAJa7uaEXNIppmnol4yq/o9MoWJ4jr4BXf1pCtzNmy4G/6LQ8E4buJO+D1430aJYWuoyF4XyS67vA4xmqvhX5hy4l6QDm0nAhVGdR9XFYJFxJl8HAKW/ScCtUBVQ1iaGWLjOAiTTdD9UDVNR0iKGZLsvR9UWaFkBVSMUeMR19ny5dxtOyDKpX6VZ5WCw/0GXIa7SsgyKLip0S0baZTktoOxFuWVT8JLZ6anWHWwYVv4ot/BF1AlBU0K1Vov7YRK91UL1Et0MS8xW9SqB6mG7/Skz7dnoUQTWdDls+40GJ20+P+VCNpEPDPjaJw06qZkGVHWLMjo62yi/F4b9qGnYwbjQ85jOmWaS2OiwOe2moZ9wAeOQy6lMRad32uziEq0k21TKqPBMevdbS1iiGvxvEaRfJvfsYtQAa19B2UEyHxekAyV+OMOpmaASeYkRYvMLVZKtsom0YdAaGaKoSnV3cKlLFiCegN4umraLTwM9F3mPEZdDrsZqmQ6LRyBbpqKJlRQAJXBCiYb9oNH4o0sKIXCSUR0O9aNT9KfI1Lau7IbE5JD85Kl6/icgHNFWch05kPU6ySbR+pmU8OnXaC+S2dtFoq6FpTho61+9Jcrdo1NE0MwPHEpxQzm/E40caQuOQjH6LuFsUe2goGoTkZOQ+/UWrOBypI/n6dUEkr/+UV9rF1v59DVmS1wM+Db9z4fPvbHz7rZcXz7vthosD0PofGb9NM9FP05kAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","import fireIcon from '../assets/icons/fire.png'\r\nimport fireFighterIcon from '../assets/icons/firefighter.png'\r\n\r\nconst CONTEXT_MENU_HANDLER = 'mapReducer/CONTEXT-MENU-HANDLER'\r\nconst SHOW_POPUP_HANDLER = 'mapReducer/SHOW-POPUP-HANDLER'\r\nconst SET_COORDINATES = 'mapReducer/SET-COORDINATES'\r\nconst SET_CONTEXT_TYPE = 'mapReducer/SET-CONTEXT-TYPE'\r\nconst SET_POPUP_CONTENT = 'mapReducer/SET-POPUP-CONTENT'\r\nconst SET_PLACEMARK_ID = 'mapReducer/SET-PLACEMARK-ID'\r\nconst SET_DRAGGABLE = 'mapReducer/SET-DRAGGABLE'\r\nconst CREATE_MARK = 'mapReducer/CREATE-MARK'\r\nconst DELETE_MARK = 'mapReducer/DELETE-MARK'\r\nconst SHOW_SIDEBAR = 'mapReducer/SHOW-SIDEBAR'\r\nconst GET_FILTER_BY_TEXT = 'mapReducer/GET-FILTER-BY-TEXT'\r\nconst SET_FILTER_BY_TYPE = 'mapReducer/SET-FILTER-BY-TYPE'\r\nconst TOGGLE_EDIT_MODE = 'mapReducer/TOGGLE-EDIT-MODE'\r\n\r\n\r\nlet initialState = {\r\n   marks: [\r\n      {\r\n         id: 1,\r\n         coordinates: ['58.4590', '49.2570'],\r\n         icon: fireIcon,\r\n         markType: 'fire',\r\n         draggable: false,\r\n         properties: {\r\n            hint: 'Пожар в Стрижах',\r\n            balloon: 'Степень опасности: 7/10'\r\n         }\r\n      },\r\n      {\r\n         id: 2,\r\n         coordinates: ['58.7229', '49.1966'],\r\n         icon: fireFighterIcon,\r\n         markType: 'firefighters',\r\n         draggable: false,\r\n         properties: {\r\n            hint: 'Пожарная часть №42',\r\n            balloon: '<b>Личный состав</b>: 2 бригады по 5 человек'\r\n         }\r\n      },\r\n      {\r\n         id: 3,\r\n         coordinates: ['58.6929', '49.7597'],\r\n         icon: fireIcon,\r\n         markType: 'fire',\r\n         draggable: false,\r\n         properties: {\r\n            hint: 'Пожар в лесу возле Кичменгского городка',\r\n            balloon: 'Степень опасности: <b>3/10</b>'\r\n         }\r\n      },\r\n      {\r\n         id: 4,\r\n         coordinates: ['58.4504', '49.8805'],\r\n         icon: fireFighterIcon,\r\n         markType: 'firefighters',\r\n         draggable: false,\r\n         properties: {\r\n            hint: 'Пожарный расчёт в Кстинино',\r\n            balloon: '<b>Личный состав</b>: 1 бригада, 7 человек'\r\n         }\r\n      }\r\n   ],\r\n   filteredMarks: [],\r\n   contextType: '',\r\n   popupContent: '',\r\n   coordinates: ['', ''],\r\n   placemarkID: null,\r\n   showContextMenu: false,\r\n   showPopup: false,\r\n   filteredText: '',\r\n   isSidebarOpen: false,\r\n   editMode: false\r\n}\r\n\r\nconst mapReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case CONTEXT_MENU_HANDLER:\r\n         return {\r\n            ...state,\r\n            showContextMenu: action.showContextMenu\r\n         }\r\n      case SHOW_POPUP_HANDLER:\r\n         return {\r\n            ...state,\r\n            showPopup: action.showPopup\r\n         }\r\n      case SET_COORDINATES:\r\n         return {\r\n            ...state,\r\n            coordinates: action.coordinates\r\n         }\r\n      case SET_PLACEMARK_ID:\r\n         return {\r\n            ...state,\r\n            placemarkId: action.id\r\n         }\r\n      case SET_CONTEXT_TYPE:\r\n         return {\r\n            ...state,\r\n            contextType: action.contextType\r\n         }\r\n      case SET_POPUP_CONTENT:\r\n         return {\r\n            ...state,\r\n            popupContent: action.contentType\r\n         }\r\n      case SET_DRAGGABLE:\r\n         return {\r\n            ...state,\r\n            marks: action.marks\r\n         }\r\n      case CREATE_MARK:\r\n         return {\r\n            ...state,\r\n            marks: [...state.marks,\r\n            {\r\n               id: new Date().valueOf(),\r\n               coordinates: [action.coordinates[0], action.coordinates[1]],\r\n               markType: action.markType,\r\n               icon: action.markType === 'fire' ? fireIcon : fireFighterIcon,\r\n               properties: {\r\n                  hint: action.hint,\r\n                  balloon: action.balloon\r\n               }\r\n            }]\r\n         }\r\n      case DELETE_MARK:\r\n         return {\r\n            ...state,\r\n            marks: state.marks.filter(item => item.id !== action.id)\r\n         }\r\n      case SHOW_SIDEBAR:\r\n         return {\r\n            ...state,\r\n            isSidebarOpen: !state.isSidebarOpen\r\n         }\r\n      case TOGGLE_EDIT_MODE:\r\n         return {\r\n            ...state,\r\n            editMode: !state.editMode\r\n         }\r\n      case GET_FILTER_BY_TEXT:\r\n         return {\r\n            ...state,\r\n            filteredText: action.text\r\n         }\r\n      case SET_FILTER_BY_TYPE:\r\n         return {\r\n            ...state,\r\n            filteredMarks: action.filteredList\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\nexport const showContextMenuHandler = (showContextMenu) => ({ type: CONTEXT_MENU_HANDLER, showContextMenu })\r\nexport const showPopupHandler = (showPopup) => ({ type: SHOW_POPUP_HANDLER, showPopup })\r\nexport const setContextType = (contextType) => ({ type: SET_CONTEXT_TYPE, contextType })\r\nexport const setPopupContent = (contentType) => ({ type: SET_POPUP_CONTENT, contentType })\r\nexport const setCoordinates = (coordinates) => ({ type: SET_COORDINATES, coordinates })\r\nexport const setPlacemarkId = (id) => ({ type: SET_PLACEMARK_ID, id })\r\nexport const setDraggable = (marks) => ({ type: SET_DRAGGABLE, marks })\r\nexport const toggleEditMode = () => ({ type: TOGGLE_EDIT_MODE })\r\nexport const createMarkHandler = (coordinates, hint, balloon, markType) => ({\r\n   type: CREATE_MARK,\r\n   coordinates,\r\n   hint,\r\n   balloon,\r\n   markType\r\n})\r\nexport const deleteMarkHandler = (id) => ({ type: DELETE_MARK, id })\r\nexport const showSidebar = () => ({ type: SHOW_SIDEBAR })\r\nexport const getFilterByText = (text) => ({ type: GET_FILTER_BY_TEXT, text })\r\nexport const setFilterByType = (filteredList) => ({ type: SET_FILTER_BY_TYPE, filteredList })\r\n\r\n\r\n// Сейчас используются фейковые (хардкодные) данные. Создаётся фейковая строка 'newCoordinates', которая содержит новые координаты.\r\n// С помощью этой строки я подтвердил правильность работы функции.\r\n// В будущем, при работе с сервером, эту функцию нужно изменить так, чтобы она перезаписывала настоящие координаты при фетче.\r\nexport const editMark = (id, drag, param = 'newCoordinates', value = ['', '']) => {\r\n   return (dispatch, getState) => {\r\n      let currentMarks = [...getState().mapPage.marks]\r\n      let newMarkList = currentMarks.map(mark => mark.id === id ? { ...mark, draggable: drag, [param]: value } : mark)\r\n      dispatch(toggleEditMode())\r\n      dispatch(setDraggable(newMarkList))\r\n   }\r\n}\r\n\r\nexport const getFilterByType = (filter) => {\r\n   return (dispatch, getState) => {\r\n      let filteredList = [...getState().mapPage.marks]\r\n      filteredList = filteredList.filter(item => item.markType === filter)\r\n\r\n      dispatch(setFilterByType(filteredList))\r\n   }\r\n}\r\n\r\nexport default mapReducer","import React from 'react'\r\n\r\nconst ContextMenu = (props) => {\r\n\r\n   const menuCreateText = 'Добавить метку'\r\n   const menuEditText = ['Переместить метку', 'Удалить метку', 'Закрепить метку']\r\n\r\n   const styles = {\r\n      left: `${props.popupLocation[0]}px`,\r\n      top: `${props.popupLocation[1]}px`\r\n   }\r\n\r\n   const closeContext = () => {\r\n      props.contextMenuHandler(false)\r\n   }\r\n\r\n   // const [fixCoords, setFixCoords] = useState(['', ''])\r\n\r\n   // useEffect(() => {\r\n   //    let c = props.coordinates\r\n   //    setFixCoords([c[0].toPrecision(5), c[1].toPrecision(5)])\r\n   // }, [props.coordinates])\r\n\r\n   const setPopupSettings = (param) => {\r\n      if (props.contextType === 'map' && param === 'create') {\r\n         props.setPopupContent('create')\r\n      } else if (props.contextType === 'placemark' && param === 'edit') {\r\n         props.setPopupContent('edit')\r\n      } else if (props.contextType === 'placemark' && param === 'delete') {\r\n         props.setPopupContent('delete')\r\n      }\r\n      props.showPopupHandler(true)\r\n      props.contextMenuHandler(false)\r\n   }\r\n\r\n   const setEditMark = (id, drag, param, value) => {\r\n      props.editMark(id, drag, param, value)\r\n      props.contextMenuHandler(false)\r\n   }\r\n\r\n   return (\r\n      <div className=\"app__context\" style={styles}>\r\n         <ul className=\"context-menu\">\r\n            {/* <li>{`${fixCoords[0]}, ${fixCoords[1]}`}</li> */}\r\n            {props.contextType === 'map' ?\r\n               <>\r\n                  <li onClick={() => setPopupSettings('create')}>{menuCreateText}</li>\r\n               </>\r\n               : <>\r\n                  {!props.editMode\r\n                     ? <li onClick={() => setEditMark(props.placemarkId, true)}>{menuEditText[0]}</li>\r\n                     : <li onClick={() => setEditMark(props.placemarkId, false, 'newCoordinates', props.coordinates)}>{menuEditText[2]}</li>\r\n                  }\r\n                  <li onClick={() => setPopupSettings('delete')}>{menuEditText[1]}</li>\r\n               </>\r\n            }\r\n         </ul>\r\n         <div className=\"app__context-close\"\r\n            onClick={closeContext}\r\n         ></div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ContextMenu","import React from 'react'\r\nimport { Formik, Form, Field } from 'formik'\r\nimport * as Yup from 'yup'\r\n\r\nconst PopupCreateMark = ({ coordinates, createMarkHandler, showPopupHandler }) => {\r\n\r\n   const createmarkSchema = Yup.object({\r\n      hint: Yup.string()\r\n         .min(3, 'Слишком короткое название!')\r\n         .max(20, 'Слишком длинное название!')\r\n         .required('Обязательное поле!'),\r\n      balloon: Yup.string()\r\n         .max(20, 'Максимум 20 символов'),\r\n      markType: Yup.string()\r\n         .required('Выберите тип метки')\r\n   })\r\n\r\n   return (\r\n      <>\r\n         <Formik\r\n            initialValues={{\r\n               markType: '',\r\n               hint: '',\r\n               balloon: ''\r\n            }}\r\n            validationSchema={createmarkSchema}\r\n            onSubmit={values => {\r\n               createMarkHandler([coordinates[0], coordinates[1]], values.hint, values.balloon, values.markType,)\r\n               showPopupHandler(0)\r\n            }}\r\n         >\r\n            {({ errors, touched }) => (\r\n               <Form className=\"form-create-mark\">\r\n                  <div className=\"form-header\">\r\n                     <p className=\"text-center\">Создание новой метки</p>\r\n                  </div>\r\n                  <Field\r\n                     type=\"text\"\r\n                     id=\"hint\"\r\n                     name=\"hint\"\r\n                     placeholder=\"Название метки\"\r\n                  />\r\n                  {errors.hint && touched.hint ? (\r\n                     <div className=\"form-error\">{errors.hint}</div>\r\n                  ) : null}\r\n                  <Field\r\n                     component=\"textarea\"\r\n                     type=\"text\"\r\n                     id=\"balloon\"\r\n                     name=\"balloon\"\r\n                     placeholder=\"Описание метки\"\r\n                     rows=\"4\"\r\n                  />\r\n                  <p style={{ textAlign: 'center' }}>Тип метки:</p>\r\n                  <div role=\"group\" className=\"form-radio\">\r\n                     <div>\r\n                        <label>\r\n                           <Field\r\n                              type=\"radio\"\r\n                              name=\"markType\"\r\n                              value='fire'\r\n                           />\r\n                           <span>Пожар</span></label>\r\n                     </div>\r\n                     <div>\r\n                        <label>\r\n                           <Field\r\n                              type=\"radio\"\r\n                              name=\"markType\"\r\n                              value='firefighters'\r\n                           />\r\n                           <span>Пожарный расчёт</span></label>\r\n                     </div>\r\n                  </div>\r\n                  {errors.markType ? (\r\n                     <div className=\"form-error text-center\">{errors.markType}</div>)\r\n                     : null\r\n                  }\r\n                  <button className=\"button button-primary\" type=\"submit\">Создать</button>\r\n               </Form>\r\n            )}\r\n         </Formik>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default PopupCreateMark","import React from 'react'\r\n\r\nconst PopupDeleteMark = ({ deleteMarkHandler, showPopupHandler, placemarkId }) => {\r\n\r\n   const deleteMark = () => {\r\n      deleteMarkHandler(placemarkId)\r\n      showPopupHandler(false)\r\n   }\r\n\r\n   return (\r\n      <div className=\"popup__delete\">\r\n         <div>\r\n            <h2>Вы уверены что хотите удалить эту метку?</h2>\r\n            <p>Это действие нельзя отменить.</p>\r\n         </div>\r\n         <div className=\"popup__buttons\">\r\n            <button className=\"button button-success\" onClick={deleteMark}>Да</button>\r\n            <button className=\"button button-danger\" onClick={() => showPopupHandler(false)}>Нет</button>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default PopupDeleteMark","import React from 'react'\r\nimport PopupCreateMark from '../PopupContent/PopupCreateMark'\r\nimport PopupDeleteMark from '../PopupContent/PopupDeleteMark'\r\n\r\nconst Popup = (props) => {\r\n\r\n   const markNames = {\r\n      create: 'create',\r\n      delete: 'delete',\r\n      edit: 'edit'\r\n   }\r\n\r\n   const closePopup = () => {\r\n      props.showPopupHandler(false)\r\n   }\r\n\r\n   return (\r\n      <div className={`popup ${props.showPopup ? 'active' : null}`}>\r\n         <div className=\"popup__close\" onClick={closePopup} />\r\n         <div className=\"popup__body\">\r\n            {props.popupContent === markNames.create ?\r\n               <PopupCreateMark {...props} /> : null}\r\n            {props.popupContent === markNames.delete ?\r\n               <PopupDeleteMark {...props} /> : null}\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Popup","import React, { useState, useEffect, useRef } from 'react'\r\nimport Fuse from 'fuse.js'\r\n\r\n\r\nconst FilterByText = (props) => {\r\n   const [selected, setSelected] = useState(false)\r\n   const [text, setText] = useState('')\r\n   // const searchIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\"><path d=\"M21.172 24l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z\" /></svg>\r\n   const filterInput = useRef(null)\r\n\r\n   function checkClickOutside(event) {\r\n      if (filterInput.current && !filterInput.current.contains(event.target)) {\r\n         setSelected(false)\r\n      }\r\n   }\r\n\r\n   useEffect(() => {\r\n      if (!selected) return\r\n      window.addEventListener('click', checkClickOutside)\r\n      return () => {\r\n         window.removeEventListener('click', checkClickOutside)\r\n      }\r\n   }, [selected])\r\n\r\n   const fuse = new Fuse(props.totalMarks, {\r\n      minMatchCharLength: 1,\r\n      includeScore: true,\r\n      threshold: 0.3,\r\n      keys: ['properties.hint']\r\n   })\r\n\r\n   let searchResult = fuse.search(text)\r\n\r\n   function setSearchHandler(e) {\r\n      const value = e.currentTarget.value\r\n      setText(value)\r\n   }\r\n\r\n   function goToCoords(coords) {\r\n      props.ymaps.setCenter(coords, 8)\r\n   }\r\n\r\n   return (\r\n      <div className={selected ? \"filter__name filter-name-white\" : \"filter__name\"}>\r\n         <input\r\n            ref={filterInput}\r\n            className=\"filter-name-search\"\r\n            type=\"search\"\r\n            placeholder=\"Поиск по имени\"\r\n            value={props.filteredText}\r\n            onChange={setSearchHandler}\r\n            onFocus={() => setSelected(true)}\r\n         />\r\n         {/* <i className=\"search-icon\">{searchIcon}</i> */}\r\n         <div className={selected ? \"filter__suggests\" : \"filter__suggests hidden\"}>\r\n            <ul className=\"filter-suggests-list\">\r\n               {searchResult.length > 0\r\n                  ? searchResult.map((item, index) => {\r\n                     return (\r\n                        <li key={index} onClick={() => goToCoords(item.item.coordinates)}>{item.item.properties.hint}</li>\r\n                     )\r\n                  })\r\n                  : props.totalMarks.map((item, index) => {\r\n                     return (\r\n                        <li key={index} onClick={() => goToCoords(item.coordinates)}>{item.properties.hint}</li>\r\n                     )\r\n                  })}\r\n            </ul>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default FilterByText","import React from 'react'\r\n\r\nconst FilterByType = ({ getFilterByType }) => {\r\n   return (\r\n      <div className=\"filter__type\">\r\n         <select className=\"filter-type\" onChange={e => getFilterByType(e.target.value)}>\r\n            <option name=\"filter-type-all\" value='all'>Показать всё</option>\r\n            <option name=\"filter-type-fire\" value='fire'>Показать только пожары</option>\r\n            <option name=\"filter-type-firefighters\" value='firefighters'>Показать только пожарные расчёты</option>\r\n         </select>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default FilterByType","import React from 'react'\r\nimport FilterByText from './filters/FilterByText'\r\nimport FilterByType from './filters/FilterByType'\r\n\r\nconst Sidebar = ({ ymaps, totalMarks, isSidebarOpen, showSidebar, getFilterByText, getFilterByType, filteredText }) => {\r\n\r\n   const arrowIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm2 12l-4.5 4.5 1.527 1.5 5.973-6-5.973-6-1.527 1.5 4.5 4.5z\" /></svg>\r\n\r\n   return (\r\n      <div className={isSidebarOpen ? 'sidebar active' : 'sidebar'}>\r\n         <div className=\"sidebar__content\">\r\n            <div className=\"sidebar__header\">\r\n               <h2>Фильтры</h2>\r\n            </div>\r\n            <div className=\"sidebar__body\">\r\n               <div className=\"sidebar__filters filter\">\r\n                  <FilterByText\r\n                     ymaps={ymaps}\r\n                     totalMarks={totalMarks}\r\n                     isSidebarOpen={isSidebarOpen}\r\n                     getFilterByText={getFilterByText}\r\n                     filteredText={filteredText}\r\n                  />\r\n                  <FilterByType getFilterByType={getFilterByType} />\r\n               </div>\r\n            </div>\r\n         </div>\r\n         <div className=\"sidebar__open\" onClick={showSidebar}>\r\n            {arrowIcon}\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Sidebar","import React from 'react'\r\nimport { Placemark } from 'react-yandex-maps'\r\n\r\nconst Placemarks = (props) => {\r\n\r\n   const setContextToPlacemark = (e, id) => {\r\n      props.setPlacemarkId(id)\r\n      props.setContextType('placemark')\r\n      e.stopPropagation()\r\n   }\r\n\r\n   function getArray(array) {\r\n      return array.map(i => {\r\n         return (\r\n            <Placemark\r\n               key={i.id}\r\n               onContextMenu={(e) => setContextToPlacemark(e, i.id)}\r\n               geometry={i.coordinates}\r\n               properties={{ hintContent: i.properties.hint || null, balloonContent: i.properties.balloon || null }}\r\n               options={{ iconLayout: 'default#image', iconImageHref: i.icon || null, draggable: i.draggable }}\r\n               modules={['geoObject.addon.hint', 'geoObject.addon.balloon']}\r\n               onDragEnd={e => props.setCoordinates(e.get('target').geometry.getCoordinates())}\r\n            />\r\n         )\r\n      })\r\n   }\r\n\r\n   return (\r\n      <>\r\n         {props.filteredMarks.length > 0\r\n            ? getArray(props.filteredMarks)\r\n            : getArray(props.totalMarks)\r\n         }\r\n      </>\r\n   )\r\n}\r\n\r\nexport default Placemarks","import React, { Component } from 'react'\r\nimport { YMaps, Map } from 'react-yandex-maps'\r\n\r\nimport ContextMenu from '../common/ContextMenu'\r\nimport Popup from '../common/Popup'\r\nimport Sidebar from '../Sidebar'\r\nimport Placemarks from './Placemarks'\r\n\r\n\r\nexport default class MainMap extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.mapState = {\r\n         center: [58.586956, 49.655350],\r\n         zoom: 6,\r\n         behaviors: [\"drag\", \"scrollZoom\", \"multiTouch\"]\r\n      }\r\n      this.mapOptions = {\r\n         restrictMapArea: [[61.059, 46.287], [56.169, 53.755]],\r\n         suppressMapOpenBlock: true,\r\n         autoFitToViewport: 'always'\r\n      }\r\n      this.state = {\r\n         ymaps: null,\r\n         popupLocation: ['', '']\r\n      }\r\n      this.mapStyles = {\r\n         position: 'absolute',\r\n         left: 0,\r\n         top: 0,\r\n         width: '100%',\r\n         height: '100%'\r\n      }\r\n   }\r\n   map = React.createRef()\r\n\r\n   componentDidMount() {\r\n      const mapBody = document.querySelector('.map-body')\r\n      mapBody.addEventListener('contextmenu', this.openCreateContext)\r\n   }\r\n   componentWillUnmount() {\r\n      const mapBody = document.querySelector('.map-body')\r\n      mapBody.removeEventListener('contextmenu', this.openCreateContext)\r\n   }\r\n\r\n   shouldShowContext = () => {\r\n      const res = this.props.mapPage.showContextMenu === true && this.props.auth.isLogged === true\r\n      return res\r\n   }\r\n\r\n   setYmaps = (ymaps) => { this.setState({ ymaps }) }\r\n\r\n   setContextToMap = (e) => {\r\n      let c = e.get('coords')\r\n      this.props.setCoordinates(c)\r\n      this.props.setContextType('map')\r\n   }\r\n\r\n   openCreateContext = (e) => {\r\n      const rect = document.querySelector('.map-body').getBoundingClientRect()\r\n      const x = e.clientX - rect.left\r\n      const y = e.clientY - rect.top\r\n      this.setState({ popupLocation: [x, y] })\r\n      this.props.contextMenuHandler(true)\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div className={this.props.mapPage.isSidebarOpen ? 'map w-sb' : 'map'}>\r\n            <div className=\"map-sidebar\">\r\n               <Sidebar\r\n                  ymaps={this.map}\r\n                  totalMarks={this.props.mapPage.marks}\r\n                  isSidebarOpen={this.props.isSidebarOpen}\r\n                  filteredText={this.props.filteredText}\r\n                  showSidebar={this.props.showSidebar}\r\n                  getFilterByText={this.props.getFilterByText}\r\n                  getFilterByType={this.props.getFilterByType}\r\n               />\r\n            </div>\r\n            <div className=\"map-body\">\r\n               <YMaps query={{ apikey: process.env.REACT_APP_MAP_API_KEY }}>\r\n                  <Map\r\n                     instanceRef={(map) => this.map = map}\r\n                     onLoad={ymaps => this.setYmaps(ymaps)}\r\n                     onContextMenu={(e) => this.setContextToMap(e)}\r\n                     defaultState={this.mapState}\r\n                     defaultOptions={this.mapOptions}\r\n                     style={this.mapStyles}\r\n                  >\r\n                     <Placemarks\r\n                        setPlacemarkId={this.props.setPlacemarkId}\r\n                        totalMarks={this.props.mapPage.marks}\r\n                        filteredMarks={this.props.mapPage.filteredMarks}\r\n                        setCoordinates={this.props.setCoordinates}\r\n                        setContextType={this.props.setContextType}\r\n                     />\r\n                     {this.shouldShowContext() ?\r\n                        <ContextMenu\r\n                           placemarkId={this.props.mapPage.placemarkId}\r\n                           coordinates={this.props.mapPage.coordinates}\r\n                           editMode={this.props.mapPage.editMode}\r\n                           popupLocation={this.state.popupLocation}\r\n                           contextType={this.props.mapPage.contextType}\r\n                           contextMenuHandler={this.props.contextMenuHandler}\r\n                           showPopupHandler={this.props.showPopupHandler}\r\n                           setPopupContent={this.props.setPopupContent}\r\n                           editMark={this.props.editMark}\r\n                           ymaps={this.map}\r\n                        />\r\n                        : null}\r\n                     {this.props.mapPage.showPopup ?\r\n                        <Popup\r\n                           popupContent={this.props.mapPage.popupContent}\r\n                           placemarkId={this.props.mapPage.placemarkId}\r\n                           showPopup={this.props.mapPage.showPopup}\r\n                           showPopupHandler={this.props.showPopupHandler}\r\n                           createMarkHandler={this.props.createMarkHandler}\r\n                           deleteMarkHandler={this.props.deleteMarkHandler}\r\n                           coordinates={this.props.mapPage.coordinates}\r\n                        /> : null}\r\n                  </Map>\r\n               </YMaps>\r\n            </div>\r\n         </div >\r\n      )\r\n   }\r\n}","import { connect } from \"react-redux\"\r\nimport {\r\n   showContextMenuHandler,\r\n   showPopupHandler,\r\n   setCoordinates,\r\n   setPlacemarkId,\r\n   setContextType,\r\n   setPopupContent,\r\n   editMark,\r\n   createMarkHandler,\r\n   deleteMarkHandler,\r\n   showSidebar,\r\n   getFilterByText,\r\n   getFilterByType\r\n} from \"../../redux/mapReducer\"\r\nimport MainMap from \"./MainMap\"\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      mapPage: state.mapPage,\r\n      auth: state.auth\r\n   }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n   return {\r\n      contextMenuHandler: (showContextMenu) => {\r\n         dispatch(showContextMenuHandler(showContextMenu))\r\n      },\r\n      showPopupHandler: (showPopup) => {\r\n         dispatch(showPopupHandler(showPopup))\r\n      },\r\n      setPlacemarkId: (id) => {\r\n         dispatch(setPlacemarkId(id))\r\n      },\r\n      setCoordinates: (coordinates) => {\r\n         dispatch(setCoordinates(coordinates))\r\n      },\r\n      setContextType: (contextType) => {\r\n         dispatch(setContextType(contextType))\r\n      },\r\n      setPopupContent: (contentType) => {\r\n         dispatch(setPopupContent(contentType))\r\n      },\r\n      editMark: (id, drag, param, value) => {\r\n         dispatch(editMark(id, drag, param, value))\r\n      },\r\n      createMarkHandler: (coordinates, hint, balloon, markType) => {\r\n         dispatch(createMarkHandler(coordinates, hint, balloon, markType))\r\n      },\r\n      deleteMarkHandler: (id) => {\r\n         dispatch(deleteMarkHandler(id))\r\n      },\r\n      showSidebar: () => {\r\n         dispatch(showSidebar())\r\n      },\r\n      getFilterByText: (text) => {\r\n         dispatch(getFilterByText(text))\r\n      },\r\n      getFilterByType: (filter) => {\r\n         dispatch(getFilterByType(filter))\r\n      }\r\n   }\r\n}\r\n\r\nconst MapContainer = connect(mapStateToProps, mapDispatchToProps)(MainMap)\r\n\r\nexport default MapContainer","import React from 'react'\r\nimport { Formik, Form, Field } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { Redirect } from 'react-router'\r\n\r\nconst LoginForm = ({ authData, authProcess }) => {\r\n\r\n   const loginSchema = Yup.object({\r\n      login: Yup.string()\r\n         .required('Обязательное поле!'),\r\n      password: Yup.string()\r\n         .required('Обязательное поле!')\r\n   })\r\n\r\n   return (\r\n      <>\r\n         {authData.isLogged ? <Redirect to=\"/map\" /> :\r\n            <Formik\r\n               initialValues={{\r\n                  login: '',\r\n                  password: ''\r\n               }}\r\n               validationSchema={loginSchema}\r\n               onSubmit={values => {\r\n                  authProcess(values.login, values.password)\r\n               }}\r\n            >\r\n               <Form className=\"login-form\">\r\n                  <div>\r\n                     <Field type=\"text\" name=\"login\" id=\"login\" placeholder=\"Логин\" />\r\n                  </div>\r\n                  <div>\r\n                     <Field type=\"password\" name=\"password\" id=\"password\" placeholder=\"Пароль\" />\r\n                  </div>\r\n                  <div className=\"login-form-button\">\r\n                     <button type=\"submit\" className=\"button button-primary\">Войти</button>\r\n                  </div>\r\n               </Form>\r\n            </Formik>\r\n         }\r\n      </>\r\n\r\n   )\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport LoginForm from '../common/forms/LoginForm'\r\n\r\nconst LoginPage = ({ authData, authProcess, setLoginData }) => {\r\n   return (\r\n      <div className=\"login\">\r\n         <div className=\"login__container\">\r\n            <div className=\"login__title\">\r\n               <h2>Войдите в систему, чтобы вносить изменения</h2>\r\n            </div>\r\n            <div className=\"login__form\">\r\n               <LoginForm authData={authData} authProcess={authProcess} />\r\n            </div>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\nexport default LoginPage","import { connect } from \"react-redux\"\r\nimport { authProcess, setLoginData } from \"../../redux/authReducer\"\r\nimport LoginPage from \"./LoginPage\"\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      authData: state.auth\r\n   }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n   return {\r\n      authProcess: (login, password) => {\r\n         dispatch(authProcess(login, password))\r\n      },\r\n      setLoginData: (login, password) => {\r\n         dispatch(setLoginData(login, password))\r\n      }\r\n   }\r\n}\r\n\r\nconst LoginPageContainer = connect(mapStateToProps, mapDispatchToProps)(LoginPage)\r\n\r\nexport default LoginPageContainer","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst LogoutPage = () => {\r\n   return (\r\n      <div className=\"logout\">\r\n         <h1 className=\"logout__title\">Вы успешно вышли из системы</h1>\r\n         <Link to=\"/\" className=\"button button-primary logout__link\">Вернуться на главную</Link>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default LogoutPage","import React from 'react'\nimport { Route } from 'react-router-dom'\nimport HeaderContainer from './components/HeaderContainer'\nimport MainPage from './components/MainPage'\nimport MapContainer from './components/map/MapContainer'\nimport LoginPageContainer from './components/login/LoginPageContainer'\nimport LogoutPage from './components/login/LogoutPage'\n\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <HeaderContainer />\n      <div className=\"app__body\">\n        <Route exact path=\"/\" component={MainPage} />\n        <Route path=\"/map\" component={MapContainer} />\n        <Route exact path=\"/login\" component={LoginPageContainer} />\n        <Route exact path=\"/logout\" component={LogoutPage} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage'\r\nimport thunk from 'redux-thunk'\r\nimport mapReducer from './mapReducer'\r\nimport authReducer from './authReducer'\r\n\r\nconst reduxDevTools = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\nconst composedElements = compose(applyMiddleware(thunk), reduxDevTools)\r\n\r\nconst persistConfig = {\r\n   key: 'root',\r\n   storage,\r\n   whitelist: ['auth']\r\n}\r\n\r\nlet rootReducer = combineReducers({\r\n   mapPage: mapReducer,\r\n   auth: authReducer\r\n})\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\nexport const store = createStore(persistedReducer, undefined, composedElements)\r\nexport const persistor = persistStore(store)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { HashRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { store, persistor } from './redux/store'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}